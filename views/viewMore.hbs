<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViewMore</title>
      <link rel="stylesheet" href="CSS/app.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div id="myJobCont"></div>
</body>
<script>
   async function getterSingle(){

         var fullUrl = window.location.href;
         console.log(fullUrl)

         var strippedUrl = fullUrl.replace(/[^\d.-]/g, '');
         console.log(strippedUrl)


        fetch('http://localhost:7000/api/:id', 
          { method: 'POST',headers: {
            'Content-type': 'application/json; charset=UTF-8',
           },
            body: JSON.stringify({
                   "id": 17,
                   "stipend": 7192,
                   "email": "zo@email.com",
                   "companyName": "UGI Corporation",
                   "address": "1997 Hibmu Jct",
                   "jobType": "Research Specialist",
                   "description": "Cufti lo opfifep ajruh su mucawzi fot vokok wevajca go oza keuzfa siswelci gelip caemno sitrajwed imzugif soj. Zudcirpom fi razfebmab oscifol fivrub nuhenbi hulo ar eziuhun evorew boohjok bu atimazip popfavget devcucof tuwisjun viewo busme. Gos va calak ca ga mo ajgicen jimowa jiwucwuk tiewu paki pobek boh mi goltil zoele vopov. Muk dukig tozuhjod ha olnead hec jamha niik sisoh va sase mo afehoita nicirip nuno ca do gi. Gow folda ad coba zaso bef me sahkakki duv id du mi sunpothu booku jifo lemwi moroppi.",
                   "duration": 6,
                   "seats": 2,
                   "jobCategory": "Office"
           })
        })
        .then((response) => response.json())
        .then((data)=>{
                var myJobCont = document.getElementById('myJobCont');
                myJobCont.innerHTML = "";
                console.log(data)
                        var content = `<div class="bg-light jobCard p-2" id=${data.id} >
                            <div class="container JobInfo d-flex justify-content-between align-items-center py-3">
                                  <div>
                                    <h5>
                                      Employee Required for :
                                      <strong class="text-info" >
                                         ${data.jobType} 
                                      </strong>
                                      's Role 
                                    <h5>
                                  </div>
                                  <div>
                                    helperICons
                                  </div>
                            </div>
                            <div class="border-top border-secondary border-opacity-50 companyInfo text-secondary px-3 d-flex justify-content-between align-items-center">
                                <div>
                                     <small>
                                       Offered by
                                     </small>
                                    <h5>
                                      ${data.companyName}
                                    </h5>
                                </div>
                                <div class="text-end">
                                  <small>
                                     To Contact :
                                  </small>
                                  <h5>
                                    ${data.email}
                                  </h5>
                                <div>
                            </div>
                            <div class="px-3" ></div>
                            <div class="px-3" >
                                <a href="http://localhost:7000/viewMore:${data.id}" class="text-decoration-none btn btn-outline-primary">
                                    View Details
                                </a>
                            </div>
                          </div>`;
                        myJobCont.innerHTML += content;
         }).catch((error)=>{
            console.error('Error Gathering Data',error);
         })
    }
    getterSingle();
</script>
</html>